{"ast":null,"code":"var _jsxFileName = \"/home/gopal/PycharmProjects/Weetwood_react/frontend/src/Icicleplot.js\";\n// src/IciclePlot.js\nimport React, { useEffect, useRef } from 'react';\nimport * as d3 from 'd3';\nconst IciclePlot = ({\n  data\n}) => {\n  const ref = useRef();\n  useEffect(() => {\n    const width = 960;\n    const height = 500;\n    const color = d3.scaleOrdinal(d3.schemeCategory10);\n    const partition = data => {\n      const root = d3.hierarchy(data).sum(d => d.value).sort((a, b) => b.value - a.value);\n      return d3.partition().size([width, height])(root);\n    };\n    const root = partition(data);\n    const svg = d3.select(ref.current).attr('width', width).attr('height', height);\n    svg.selectAll(\"*\").remove(); // Clear previous contents if any\n    // Tooltip div\n    const tooltip = d3.select(\"body\").append(\"div\").attr(\"class\", \"tooltip\").style(\"position\", \"absolute\").style(\"visibility\", \"hidden\").style(\"background-color\", \"white\").style(\"border\", \"1px solid #ccc\").style(\"padding\", \"5px\").style(\"border-radius\", \"3px\").style(\"box-shadow\", \"0 0 10px rgba(0,0,0,0.5)\");\n    svg.selectAll(\"rect\").data(root.descendants()).enter().append(\"rect\").attr(\"class\", \"node\").attr(\"x\", d => d.x0).attr(\"y\", d => d.y0).attr(\"width\", d => d.x1 - d.x0).attr(\"height\", d => d.y1 - d.y0).attr(\"fill\", d => color((d.children ? d : d.parent).data.name)).style(\"stroke\", \"#fff\");\n    svg.selectAll(\"text\").data(root.descendants()).enter().append(\"text\").attr(\"class\", \"label\").attr(\"x\", d => d.x0 + 4).attr(\"y\", d => (d.y0 + d.y1) / 2).text(d => d.data.name).style(\"fill\", \"#fff\").style(\"font\", \"10px sans-serif\").style(\"text-anchor\", \"start\").style(\"dominant-baseline\", \"middle\");\n  }, [data]);\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  });\n};\nexport default IciclePlot;","map":{"version":3,"names":["React","useEffect","useRef","d3","IciclePlot","data","ref","width","height","color","scaleOrdinal","schemeCategory10","partition","root","hierarchy","sum","d","value","sort","a","b","size","svg","select","current","attr","selectAll","remove","tooltip","append","style","descendants","enter","x0","y0","x1","y1","children","parent","name","text","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/home/gopal/PycharmProjects/Weetwood_react/frontend/src/Icicleplot.js"],"sourcesContent":["// src/IciclePlot.js\nimport React, { useEffect, useRef } from 'react';\nimport * as d3 from 'd3';\n\nconst IciclePlot = ({ data }) => {\n  const ref = useRef();\n\n  useEffect(() => {\n    const width = 960;\n    const height = 500;\n\n    const color = d3.scaleOrdinal(d3.schemeCategory10);\n\n    const partition = data => {\n      const root = d3.hierarchy(data)\n        .sum(d => d.value)\n        .sort((a, b) => b.value - a.value);\n      return d3.partition()\n        .size([width, height])\n        (root);\n    };\n\n    const root = partition(data);\n\n    const svg = d3.select(ref.current)\n      .attr('width', width)\n      .attr('height', height);\n\n    svg.selectAll(\"*\").remove(); // Clear previous contents if any\n     // Tooltip div\n    const tooltip = d3.select(\"body\").append(\"div\")\n      .attr(\"class\", \"tooltip\")\n      .style(\"position\", \"absolute\")\n      .style(\"visibility\", \"hidden\")\n      .style(\"background-color\", \"white\")\n      .style(\"border\", \"1px solid #ccc\")\n      .style(\"padding\", \"5px\")\n      .style(\"border-radius\", \"3px\")\n      .style(\"box-shadow\", \"0 0 10px rgba(0,0,0,0.5)\");\n\n    svg.selectAll(\"rect\")\n      .data(root.descendants())\n      .enter().append(\"rect\")\n      .attr(\"class\", \"node\")\n      .attr(\"x\", d => d.x0)\n      .attr(\"y\", d => d.y0)\n      .attr(\"width\", d => d.x1 - d.x0)\n      .attr(\"height\", d => d.y1 - d.y0)\n      .attr(\"fill\", d => color((d.children ? d : d.parent).data.name))\n      .style(\"stroke\", \"#fff\");\n\n    svg.selectAll(\"text\")\n      .data(root.descendants())\n      .enter().append(\"text\")\n      .attr(\"class\", \"label\")\n      .attr(\"x\", d => d.x0 + 4)\n      .attr(\"y\", d => (d.y0 + d.y1) / 2)\n      .text(d => d.data.name)\n      .style(\"fill\", \"#fff\")\n      .style(\"font\", \"10px sans-serif\")\n      .style(\"text-anchor\", \"start\")\n      .style(\"dominant-baseline\", \"middle\");\n\n  }, [data]);\n\n  return (\n    <svg ref={ref}></svg>\n  );\n};\n\nexport default IciclePlot;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}