{"ast":null,"code":"var _jsxFileName = \"/home/gopal/PycharmProjects/Weetwood_react/frontend/src/Icicleplot.js\";\n// src/IciclePlot.js\nimport React, { useEffect, useRef } from 'react';\nimport * as d3 from 'd3';\nconst IciclePlot = ({\n  data\n}) => {\n  const ref = useRef();\n  useEffect(() => {\n    const width = 960;\n    const height = 500;\n    const color = d3.scaleOrdinal(d3.schemeCategory10);\n    const partition = data => {\n      const root = d3.hierarchy(data).sum(d => d.value).sort((a, b) => b.value - a.value);\n      return d3.partition().size([width, height])(root);\n    };\n    const root = partition(data);\n    const svg = d3.select(ref.current).attr('width', width).attr('height', height);\n    svg.selectAll(\"*\").remove(); // Clear previous contents if any\n\n    svg.selectAll(\"rect\").data(root.descendants()).enter().append(\"rect\").attr(\"class\", \"node\").attr(\"x\", d => d.x0).attr(\"y\", d => d.y0).attr(\"width\", d => d.x1 - d.x0).attr(\"height\", d => d.y1 - d.y0).attr(\"fill\", d => color((d.children ? d : d.parent).data.name)).style(\"stroke\", \"#fff\");\n    svg.selectAll(\"text\").data(root.descendants()).enter().append(\"text\").attr(\"class\", \"label\").attr(\"x\", d => d.x0 + 4).attr(\"y\", d => (d.y0 + d.y1) / 2).text(d => d.data.name).style(\"fill\", \"#fff\").style(\"font\", \"10px sans-serif\").style(\"text-anchor\", \"start\").style(\"dominant-baseline\", \"middle\");\n  }, [data]);\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  });\n};\nexport default IciclePlot;","map":{"version":3,"names":["React","useEffect","useRef","d3","IciclePlot","data","ref","width","height","color","scaleOrdinal","schemeCategory10","partition","root","hierarchy","sum","d","value","sort","a","b","size","svg","select","current","attr","selectAll","remove","descendants","enter","append","x0","y0","x1","y1","children","parent","name","style","text","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/home/gopal/PycharmProjects/Weetwood_react/frontend/src/Icicleplot.js"],"sourcesContent":["// src/IciclePlot.js\nimport React, { useEffect, useRef } from 'react';\nimport * as d3 from 'd3';\n\nconst IciclePlot = ({ data }) => {\n  const ref = useRef();\n\n  useEffect(() => {\n    const width = 960;\n    const height = 500;\n\n    const color = d3.scaleOrdinal(d3.schemeCategory10);\n\n    const partition = data => {\n      const root = d3.hierarchy(data)\n        .sum(d => d.value)\n        .sort((a, b) => b.value - a.value);\n      return d3.partition()\n        .size([width, height])\n        (root);\n    };\n\n    const root = partition(data);\n\n    const svg = d3.select(ref.current)\n      .attr('width', width)\n      .attr('height', height);\n\n    svg.selectAll(\"*\").remove(); // Clear previous contents if any\n\n    svg.selectAll(\"rect\")\n      .data(root.descendants())\n      .enter().append(\"rect\")\n      .attr(\"class\", \"node\")\n      .attr(\"x\", d => d.x0)\n      .attr(\"y\", d => d.y0)\n      .attr(\"width\", d => d.x1 - d.x0)\n      .attr(\"height\", d => d.y1 - d.y0)\n      .attr(\"fill\", d => color((d.children ? d : d.parent).data.name))\n      .style(\"stroke\", \"#fff\");\n\n\n\n    svg.selectAll(\"text\")\n      .data(root.descendants())\n      .enter().append(\"text\")\n      .attr(\"class\", \"label\")\n      .attr(\"x\", d => d.x0 + 4)\n      .attr(\"y\", d => (d.y0 + d.y1) / 2)\n      .text(d => d.data.name)\n      .style(\"fill\", \"#fff\")\n      .style(\"font\", \"10px sans-serif\")\n      .style(\"text-anchor\", \"start\")\n      .style(\"dominant-baseline\", \"middle\");\n\n  }, [data]);\n\n  return (\n    <svg ref={ref}></svg>\n  );\n};\n\nexport default IciclePlot;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}